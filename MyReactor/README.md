### Reactor模式
根据《高性能linux服务器编程》一书的介绍：reactor模式要求主线程只负责监听文件描述符上是否有事件发生，有的话通知工作线程。除此之外，主线程不错任务其他事情，读写数据，接收新连接均在工作线程中完成

### Reactor模式的工作流程
1) 主线程注册socket读事件
2) 主线程调用epoll\_wait等待数据可读
3) epoll_wait返回后，将可读事件放入请求队列
4) 睡眠在请求队列上的某个工作线程被唤醒，从socket中读取数据，处理客户请求，然后往epoll中注册该socket上的写事件
5) 主线程调用epoll_wait等待socket可写
6) socket可写时，将可写事件放入请求队列
7) 睡眠在请求队列上的工作线程被唤醒，执行写操作，然后往epoll中注册读事件

### Reactor模式的实现
本例实现的reactor模式使用了“高性能服务器开发”公众号上的源码，并增加了自己的注释，也对某些代码做了简单修改<br>
该例分成三个类别的线程：
1) 主线程：负责监听，有读事件，则将其放入请求队列，代码中将有可读事件的文件描述符放入队列，供工作线程读取
2) 接收线程：只有一个，专门用来接收客户端连接，并将其加入到epoll中
3) 若干个工作线程：若干个工作线程组成线程池，处理请求队列上的读事件
线程之间的同步使用了锁和条件变量，基本原理与生产者消费者模式的线程池原理相同<br>
本例并没有完全按照上述工作流程所述的那样进行设计，主要区别在于当工作线程处理完读事件后，直接进行写操作发送了数据，并没有重新注册写事件



